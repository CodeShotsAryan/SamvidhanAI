INFO:     Started server process [1256000]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:60410 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60426 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 58, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
TypeError: argument 'query_embeddings': 'float32' object cannot be converted to 'Sequence'
INFO:     127.0.0.1:54388 - "GET /health HTTP/1.1" 200 OK
INFO:     Started server process [1256300]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     127.0.0.1:54400 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 58, in retrieve_context
    Retrieves relevant legal chunks.
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
TypeError: argument 'query_embeddings': 'float32' object cannot be converted to 'Sequence'
INFO:     Started server process [1256576]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     127.0.0.1:40696 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 58, in retrieve_context
    self.collection = self.client.get_or_create_collection(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
TypeError: argument 'query_embeddings': 'float32' object cannot be converted to 'Sequence'
INFO:     Started server process [1256858]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     127.0.0.1:47868 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 58, in retrieve_context
    )
      
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
TypeError: argument 'query_embeddings': 'float32' object cannot be converted to 'Sequence'
INFO:     Started server process [1257096]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:42534 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 68, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
TypeError: argument 'query_embeddings': 'float' object cannot be converted to 'Sequence'
INFO:     Started server process [1257424]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:45956 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 55, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 235, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 103, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 336, in _validate_and_prepare_query_request
    request_embeddings = self._embed_record_set(
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 724, in _embed_record_set
    return self._embed(
           ^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 739, in _embed
    return self._embedding_function.embed_query(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FastEmbedFunction' object has no attribute 'embed_query' in query.
INFO:     Started server process [1257700]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:47500 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 55, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 235, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 103, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 336, in _validate_and_prepare_query_request
    request_embeddings = self._embed_record_set(
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 724, in _embed_record_set
    return self._embed(
           ^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 739, in _embed
    return self._embedding_function.embed_query(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FastEmbedFunction' object has no attribute 'embed_query' in query.
INFO:     Started server process [1258084]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:51840 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 53, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 235, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 103, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 336, in _validate_and_prepare_query_request
    request_embeddings = self._embed_record_set(
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 724, in _embed_record_set
    return self._embed(
           ^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/CollectionCommon.py", line 739, in _embed
    return self._embedding_function.embed_query(input=input)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FastEmbedFunction' object has no attribute 'embed_query' in query.
INFO:     Started server process [1258390]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:34772 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 64, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
TypeError: argument 'query_embeddings': 'float' object cannot be converted to 'Sequence'
INFO:     Started server process [1258727]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:35662 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:47616 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49248 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58992 - "POST /search/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/routers/search.py", line 10, in search_legal_code
    context = rag_service.retrieve_context(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/app/services/rag_service.py", line 69, in retrieve_context
    results = self.collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/models/Collection.py", line 247, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "/root/SamvidhanAI/server/venv/lib/python3.12/site-packages/chromadb/api/rust.py", line 550, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InternalError: Error executing plan: Internal error: Error creating hnsw segment reader: Nothing found on disk
INFO:     127.0.0.1:43650 - "GET / HTTP/1.1" 200 OK
INFO:     Started server process [1259961]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:55398 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56092 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56960 - "POST /search/ HTTP/1.1" 200 OK
INFO:     13.234.119.7:18068 - "GET /api/dashboard HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:37542 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:42248 - "GET /search/ HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:42248 - "POST /search/ HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:46054 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:41730 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:41740 - "POST /compare/ HTTP/1.1" 200 OK
incorrect startxref pointer(1)
parsing for Object Streams
INFO:     127.0.0.1:50814 - "POST /summarize/ HTTP/1.1" 500 Internal Server Error
incorrect startxref pointer(1)
parsing for Object Streams
INFO:     127.0.0.1:34802 - "POST /summarize/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49798 - "GET / HTTP/1.1" 200 OK
incorrect startxref pointer(1)
parsing for Object Streams
INFO:     127.0.0.1:41408 - "POST /summarize/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56118 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57866 - "GET /search/ HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:44286 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:49068 - "POST /search/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49110 - "POST /search/ HTTP/1.1" 200 OK
incorrect startxref pointer(1)
parsing for Object Streams
INFO:     127.0.0.1:49116 - "POST /summarize/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49016 - "POST /search/ HTTP/1.1" 200 OK
incorrect startxref pointer(1)
parsing for Object Streams
INFO:     127.0.0.1:49018 - "POST /summarize/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51570 - "GET / HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1259961]
